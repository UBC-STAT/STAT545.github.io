<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.6.42">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Lecture 2B: Version Control – STAT545</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../">
<link href="../../images/stat545_transparent.png" rel="icon" type="image/png">
<script src="../../site_libs/quarto-html/quarto.js"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting-2f5df379a58b258e96c21c0638c20c03.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../site_libs/bootstrap/bootstrap-f55b795d08b5ec9c46d466a81ca0990b.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


<link rel="stylesheet" href="../../styles.css">
</head>

<body class="nav-sidebar docked nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="../../index.html">
    <span class="navbar-title">STAT545</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="../../index.html"> <i class="bi bi-house-door-fill" role="img">
</i> 
<span class="menu-text"> </span></a>
  </li>  
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-syllabus" role="link" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text">Syllabus</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-syllabus">    
        <li>
    <a class="dropdown-item" href="../../webpages/syllabus/syllabusA.html">
 <span class="dropdown-text">Syllabus: STAT 545 A (Part I)</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../webpages/syllabus/syllabusB.html">
 <span class="dropdown-text">Syllabus: STAT 545 B (Part II)</span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-lectures" role="link" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text">Lectures</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-lectures">    
        <li>
    <a class="dropdown-item" href="../../webpages/lectures_i/lec1a_installation.html">
 <span class="dropdown-text">Lecture 1A: Installation</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../webpages/lectures_i/lec1b_introR.html">
 <span class="dropdown-text">Lecture 1B: Course Introduction and R</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../webpages/lectures_i/lec2A_reproducibility.html">
 <span class="dropdown-text">Lecture 2A: Reproducibility with RMarkdown</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../webpages/lectures_i/lec2b_versioncontrol.html">
 <span class="dropdown-text">Lecture 2B: Version Control</span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="../../webpages/worksheets.html"> 
<span class="menu-text">Worksheets</span></a>
  </li>  
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-collab-project" role="link" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text">Collab Project</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-collab-project">    
        <li>
    <a class="dropdown-item" href="../../webpages/collabproj/collabproj_deliverable1.html">
 <span class="dropdown-text">Collaborative Project: Deliverable 1</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../webpages/collabproj/collabproj_deliverable2.html">
 <span class="dropdown-text">Collaborative Project: Deliverable 2</span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-mini-data-analysis" role="link" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text">Mini Data Analysis</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-mini-data-analysis">    
        <li>
    <a class="dropdown-item" href="../../webpages/mda/mda_deliverable1.html">
 <span class="dropdown-text">Mini Data Analysis: Deliverable 1</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../webpages/mda/mda_deliverable2.html">
 <span class="dropdown-text">Mini Data Analysis: Deliverable 2</span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-assignments-(part-b" role="link" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text">Assignments (Part B)</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-assignments-(part-b">    
        <li>
    <a class="dropdown-item" href="../../webpages/assignmentsB/assignmentB1.html">
 <span class="dropdown-text">Assignment B1: Making a Function in R</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../webpages/assignmentsB/assignmentB2.html">
 <span class="dropdown-text">Assignment B2: Making an R Package</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../webpages/assignmentsB/assignmentB3.html">
 <span class="dropdown-text">Assignment B3: Shiny App</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../webpages/assignmentsB/assignmentB4.html">
 <span class="dropdown-text">Assignment B4: Your Choice!</span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="../../webpages/casestudies.html"> 
<span class="menu-text">Case Studies</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../webpages/faq.html"> 
<span class="menu-text">FAQ</span></a>
  </li>  
</ul>
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item compact">
    <a class="nav-link" href="https://github.com/UBC-STAT/STAT545.github.io"> <i class="bi bi-github" role="img">
</i> 
<span class="menu-text"></span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://youtube.com/playlist?list=PL32xpGMCWJAkihtosNGDQz0NP4UBqQnq8&amp;si=VaWFgrlMNKHtgOHD"> <i class="bi bi-youtube" role="img">
</i> 
<span class="menu-text"></span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" role="button" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="../../webpages/lectures_i/lec2b_versioncontrol.html">Lecture 2B: Version Control</a></li></ol></nav>
        <a class="flex-grow-1" role="navigation" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation docked overflow-auto">
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../webpages/lectures_i/lec1a_installation.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Lecture 1A: Installation</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../webpages/lectures_i/lec1b_introR.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Lecture 1B: Course Introduction and R</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../webpages/lectures_i/lec2A_reproducibility.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Lecture 2A: Reproducibility with RMarkdown</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../webpages/lectures_i/lec2b_versioncontrol.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text">Lecture 2B: Version Control</span></a>
  </div>
</li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#learning-objectives" id="toc-learning-objectives" class="nav-link active" data-scroll-target="#learning-objectives">Learning Objectives</a></li>
  <li><a href="#video-lecture" id="toc-video-lecture" class="nav-link" data-scroll-target="#video-lecture">Video Lecture</a></li>
  <li><a href="#get-acquainted-with-git-and-github" id="toc-get-acquainted-with-git-and-github" class="nav-link" data-scroll-target="#get-acquainted-with-git-and-github">Get Acquainted with Git and GitHub</a>
  <ul class="collapse">
  <li><a href="#repositories-organizations-and-personal-accounts" id="toc-repositories-organizations-and-personal-accounts" class="nav-link" data-scroll-target="#repositories-organizations-and-personal-accounts"><strong>Repositories, Organizations, and Personal Accounts</strong></a></li>
  <li><a href="#git-states-and-lingo" id="toc-git-states-and-lingo" class="nav-link" data-scroll-target="#git-states-and-lingo">Git States and Lingo</a></li>
  </ul></li>
  <li><a href="#r-projects" id="toc-r-projects" class="nav-link" data-scroll-target="#r-projects">R Projects</a>
  <ul class="collapse">
  <li><a href="#create-an-r-project" id="toc-create-an-r-project" class="nav-link" data-scroll-target="#create-an-r-project">Create an R Project</a></li>
  <li><a href="#create-a-github-repository-for-your-existing-local-r-project" id="toc-create-a-github-repository-for-your-existing-local-r-project" class="nav-link" data-scroll-target="#create-a-github-repository-for-your-existing-local-r-project">Create a GitHub Repository for your Existing (Local) R Project</a></li>
  <li><a href="#clone-a-github-repository-github-repository-already-exists-remotely" id="toc-clone-a-github-repository-github-repository-already-exists-remotely" class="nav-link" data-scroll-target="#clone-a-github-repository-github-repository-already-exists-remotely">Clone a GitHub Repository (GitHub Repository Already Exists Remotely)</a></li>
  </ul></li>
  <li><a href="#syncing-your-r-project-with-github" id="toc-syncing-your-r-project-with-github" class="nav-link" data-scroll-target="#syncing-your-r-project-with-github">Syncing Your R Project with GitHub</a>
  <ul class="collapse">
  <li><a href="#from-rstudios-git-tab" id="toc-from-rstudios-git-tab" class="nav-link" data-scroll-target="#from-rstudios-git-tab">From RStudio’s “Git” Tab</a></li>
  <li><a href="#from-rstudios-terminal" id="toc-from-rstudios-terminal" class="nav-link" data-scroll-target="#from-rstudios-terminal">From RStudio’s Terminal</a></li>
  </ul></li>
  <li><a href="#more-on-git" id="toc-more-on-git" class="nav-link" data-scroll-target="#more-on-git">More on Git</a>
  <ul class="collapse">
  <li><a href="#branches" id="toc-branches" class="nav-link" data-scroll-target="#branches">Branches</a></li>
  <li><a href="#merging-conflicts" id="toc-merging-conflicts" class="nav-link" data-scroll-target="#merging-conflicts">Merging Conflicts</a></li>
  <li><a href="#other-tips" id="toc-other-tips" class="nav-link" data-scroll-target="#other-tips">Other Tips</a></li>
  </ul></li>
  <li><a href="#resources" id="toc-resources" class="nav-link" data-scroll-target="#resources">Resources</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Lecture 2B: Version Control</h1>
<p class="subtitle lead">September 11, 2025</p>
</div>



<div class="quarto-title-meta">

    
  
    <div>
    <div class="quarto-title-meta-heading">Modified</div>
    <div class="quarto-title-meta-contents">
      <p class="date-modified">September 10, 2025</p>
    </div>
  </div>
    
  </div>
  


</header>


<section id="learning-objectives" class="level2">
<h2 class="anchored" data-anchor-id="learning-objectives">Learning Objectives</h2>
<p>From today’s topic, students are anticipated to be able to:</p>
<ul>
<li><p>create an R Project,</p></li>
<li><p>use git on their own computer (locally),</p></li>
<li><p>connect between a local git repository and that repository on GitHub, using RStudio,</p></li>
<li><p>make commits in git using RStudio,</p></li>
<li><p>make a branch in git using RStudio or GitHub, and</p></li>
<li><p>use collaborative GitHub features such as Issues and pull requests.</p></li>
</ul>
<p>After this class, you should be able to start working on your Collaborative Project.</p>
</section>
<section id="video-lecture" class="level2">
<h2 class="anchored" data-anchor-id="video-lecture">Video Lecture</h2>
<ul>
<li><a href="https://youtu.be/TigD_OxpGao">Grace’s YouTube video on RStudio and GitHub</a></li>
</ul>
</section>
<section id="get-acquainted-with-git-and-github" class="level2">
<h2 class="anchored" data-anchor-id="get-acquainted-with-git-and-github">Get Acquainted with Git and GitHub</h2>
<p>“Git” is a version control system designed to track changes. This is what GitHub uses! Git essentially creates “snapshots” of your work as you progress through a project.</p>
<section id="repositories-organizations-and-personal-accounts" class="level3">
<h3 class="anchored" data-anchor-id="repositories-organizations-and-personal-accounts"><strong>Repositories, Organizations, and Personal Accounts</strong></h3>
<p>A <em>repository</em> stores files and the history of the files; the usual convention is to use a single repository to organize a single project.</p>
<p><strong>GitHub</strong> is a place where repositories can live online. Being online provides us a way to share and collaborate on projects. It also serves as a backup for your project.</p>
<p><strong>Example 1:</strong> <a href="https://github.com/grcetmpk">Grace’s GitHub page</a></p>
<p><strong>Example 1</strong>: <a href="https://github.com/UBC-STAT/STAT545.github.io">The STAT 545 GitHub page</a></p>
<p>The first repository lives under Grace’s personal Github account. The second repository lives under the <a href="https://github.com/UBC-STAT">UBC-STAT</a> organization. Organizations are useful if you have lots of different projects with a common theme which lots of people are collaborating on.</p>
<p>We can interact with and send data between GitHub and RStudio using Git.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="images/GitHubBasic.png" class="img-fluid quarto-figure quarto-figure-center figure-img" width="800"></p>
</figure>
</div>
</section>
<section id="git-states-and-lingo" class="level3">
<h3 class="anchored" data-anchor-id="git-states-and-lingo">Git States and Lingo</h3>
<p>To use Git, we should first understand the primary states that files can be in. These are:</p>
<ul>
<li><strong>Modified</strong>: you’ve changed something in the files, but Git hasn’t accounted for them yet.</li>
<li><strong>Staged</strong>: Git has tracked the changes you’ve made, but they haven’t been accounted for in the latest snapshot of your work.</li>
<li><strong>Committed</strong>: the changes you’ve made have been stored and updated as the latest snapshot of your project.</li>
</ul>
<p>After changes are committed locally (on your computer), we can <strong>push</strong> them to a GitHub repository. This sends the changes and updates the most recent version of your project on GitHub. We can also <strong>pull</strong> changes from GitHub to your local machine. This is useful when multiple people (or perhaps one person on multiple devices) are working on a project.</p>
<p>Other useful Git features include:</p>
<ul>
<li><strong>Cloning a repository</strong>: copying an existing GitHub repository to your local machine. You can push and pull changes after cloning.</li>
<li><strong>Using Branches</strong>: creating a separate line of development within your repository, allowing for isolated work on new features. This is a safe way to ensure you aren’t overwriting the main repository branch. Branches can be merged together later in development</li>
<li><strong>Pull Requests</strong>: Git’s way of proposing changes to the repository’s main branch.</li>
</ul>
<div class="callout callout-style-simple callout-warning no-icon callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Exercise 1
</div>
</div>
<div class="callout-body-container callout-body">
<p>Go to your GitHub profile (mine is https://github.com/grcetmpk)</p>
<p>Create a new GitHub repository by clicking the + symbol in the top bar and using the dropdown menu to create a new repository.</p>
<p>Name your repository stat-545-demo-YOUR-NAME. In the description write “STAT 545 Demo”. Check the box for adding a README file.</p>
<p>You are now redirected to the repository main page. The repository page tells you you have 1 commit. Click on it to get to the history page. This tells you all the changes that have been tracked for the files in the repository so far.</p>
<p>Go back to your repository main page. Click on README.md, then click the pencil icon (“Edit this file”_. Add the following information into the README.md file:</p>
<ul>
<li><p>Your Name</p></li>
<li><p>Your Program</p></li>
</ul>
<p>Commit your changes: click the commit changes button, and briefly summarize the changes you’ve made in the Commit message.</p>
<p>Check out the Github commit history again. Has anything changed?</p>
</div>
</div>
</section>
</section>
<section id="r-projects" class="level2">
<h2 class="anchored" data-anchor-id="r-projects">R Projects</h2>
<p>While Git and GitHub can be useful for more than just R, we will demonstrate how Git and GitHub can be used within an R Project.</p>
<p>R Projects are useful for organizing files and resources specific to a project in a self-contained directory. R Projects allow for more reproducible workflows, and allow users to resume exactly where they left off within a project by keeping variables in the environment even after the session has closed. It also allows us to integrate version control with Git.</p>
<section id="create-an-r-project" class="level3">
<h3 class="anchored" data-anchor-id="create-an-r-project">Create an R Project</h3>
<ol type="1">
<li><p>Open RStudio.</p></li>
<li><p>Go to “File” &gt; “New R Project…”.</p></li>
<li><p>Select “New Directory”, “New Project”, and enter a name for your project. For our example, I’ll be creating “STAT545_Example_Project”. Select “Browse” and find a location where you’d like to save your project (a new folder the same name as your project will be created). I chose the Desktop as an example. Ensure “Create a Git Repository” is selected. Click “Create Project”.</p></li>
</ol>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="images/NewRProject.png" class="img-fluid quarto-figure quarto-figure-center figure-img" width="400"></p>
</figure>
</div>
<p>RStudio will refresh. You will now see at the top of RStudio that the name of your project is displayed.</p>
<p><strong>To add a new R Script to your R Project</strong>, go to “File” &gt; “New File” &gt; “R Script”. Write your code. “File” &gt; “Save as” and name your file and ensure it’s saved in your project folder. Let’s add one called <code>analysis.R</code> with some simple code:</p>
<pre><code># view the first few rows of mtcars dataset
head(mtcars)

# calculate the average mpg among all cars, save it as a variable
mean_mpg &lt;- mean(mtcars$mpg)

# print the mean mpg
mean_mpg</code></pre>
<p>After running this code, you’ll notice <code>mean_mpg</code> is in your environment. The cool thing about R Projects is that the next time you open your project, you’ll continue exactly where you’re left off! All variables you created will have been saved, as if you never closed R Studio.</p>
<p>You can add multiple files to projects, and save things like images/pdfs of plots, multiple R Scripts (code), and data sets. Really, anything that you can save in the R Project folder will be contained in the R Project.</p>
</section>
<section id="create-a-github-repository-for-your-existing-local-r-project" class="level3">
<h3 class="anchored" data-anchor-id="create-a-github-repository-for-your-existing-local-r-project">Create a GitHub Repository for your Existing (Local) R Project</h3>
<p>Syncing your R Project to GitHub is a smart idea! You can work on the project on multiple machines, back up your work, see previous versions of your work, and collaborate easily with others.</p>
<p>In this lecture, we will assume an R Project already exists and we want to create a new GitHub repository for it. Previously, we created an R Project “STAT545_Example_Project” with the R Script <code>analysis.R</code>. Let’s sync this project to GitHub!</p>
<ol type="1">
<li><p>In the R Console, load in the <code>usethis</code> package by calling <code>library(usethis)</code></p></li>
<li><p>In the R Console, call <code>use_git()</code>. When asked if it’s okay to commit some changes, select an option that means yes (it could be “OK” or “For sure” or “Yes”, for example) by writing the number in the console and hitting Enter. If it prompts you to restart RStudio, you can do so.</p></li>
<li><p>If you restarted RStudio, call <code>library(usethis)</code> again. Then, in the Console call <code>use_github()</code>. A new repository on your GitHub account should be created! You should see your code <code>analysis.R</code> as one of the items in your repository.</p></li>
</ol>
<p><em>If you have issues, see the last section of <a href="../../webpages/lectures_i/lec1a_installation.html">Lecture 1A: Installation</a> to set up your GitHub credentials on RStudio.</em></p>
</section>
<section id="clone-a-github-repository-github-repository-already-exists-remotely" class="level3">
<h3 class="anchored" data-anchor-id="clone-a-github-repository-github-repository-already-exists-remotely">Clone a GitHub Repository (GitHub Repository Already Exists Remotely)</h3>
<p>What if you want to use an existing R Project that is on GitHub in a repository? We can clone it!</p>
<ol type="1">
<li><p>In RStudio, go to “File &gt; New Project”</p></li>
<li><p>Click on “Version Control: Checkout a project from a version control repository”</p></li>
<li><p>Click on “Git: Clone a project from a repository”</p></li>
<li><p>Fill in the info: URL: use HTTPS address (found on GitHub when clicking the green “Code” button) Create as a subdirectory of: Browse to where you would like to save this repository on your machine (creates a new folder in the location you select)</p></li>
</ol>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="images/gitclonehttps.png" class="img-fluid quarto-figure quarto-figure-center figure-img" width="800"></p>
</figure>
</div>
<p>Now you have a local version of this project! You can interact with it using the instructions in the following section.</p>
<p><em>Side note: you can clone any public project, however you need to be added as a collaborator to push those changes to GitHub. If you’d like to play around with existing repositories, you could “Fork” it. A fork is a copy of a repository. Forking a repository allows you to freely experiment with changes without affecting the original project. More info here: <a href="https://docs.github.com/en/pull-requests/collaborating-with-pull-requests/working-with-forks/fork-a-repo" class="uri">https://docs.github.com/en/pull-requests/collaborating-with-pull-requests/working-with-forks/fork-a-repo</a>.</em></p>
</section>
</section>
<section id="syncing-your-r-project-with-github" class="level2">
<h2 class="anchored" data-anchor-id="syncing-your-r-project-with-github">Syncing Your R Project with GitHub</h2>
<p>You’ve created a repository for your R Project - but what happens when we edit our project on our computer? Well, we need to send those changes to our GitHub repository (it’s not automatic).</p>
<p>Let’s make some changes to our STAT545_Example_Project! Adding a README file could be a nice addition. Whatever is written in this file will appear on the home page of our repository and can provide useful information about our repository.</p>
<p>Let’s create an Markdown (<strong>NOT RMARKDOWN</strong>!) document called “README.md” (“File” &gt; “New File” &gt; “Markdown File”). Set the title to “README”.</p>
<p>Let’s add the following to the file:</p>
<pre><code>## STAT545 Example Project

This is my first R Project, synced to GitHub! It follows the lecture notes at &lt;https://ubc-stat.github.io/STAT545.github.io/webpages/lectures_i/lec2b_versioncontrol.html&gt;
</code></pre>
<p>Save this file as “README.md”.</p>
<p>Let’s also change something in our <code>analysis.R</code> file. Let’s add the following to our file:</p>
<pre><code># plot wt vs mpg
plot(mtcars$wt, mtcars$mpg)</code></pre>
<p>Save the changes.</p>
<p>Now, there are two ways that I’ll show you how to interact with GitHub through RStudio.</p>
<ul>
<li><p>Using RStudio’s “Git” Tab</p></li>
<li><p>Using the Terminal</p></li>
<li><p>(Secret third option: using GitHub Desktop. I won’t show this in detail but it is an option!)</p></li>
</ul>
<section id="from-rstudios-git-tab" class="level3">
<h3 class="anchored" data-anchor-id="from-rstudios-git-tab">From RStudio’s “Git” Tab</h3>
<p>When you navigate to the “Git” tab in RStudio, you will see that <code>README.Rmd</code> and <code>analysis.R</code> are listed. This is because these files have changes! <code>README.Rmd</code> was added, and <code>analysis.R</code> was modified.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="images/gitpane.png" class="img-fluid quarto-figure quarto-figure-center figure-img" width="400"></p>
</figure>
</div>
<p>We need to stage the files, commit the changes, and then push the changes to the remote GitHub version.</p>
<ol type="1">
<li><strong>Stage Files</strong>: Select the files you want to stage by selecting them. You will see symbols beside them - “A” stands for “Added” and “M” stands for “modified”. If you were to delete a file, you would see a red “D”.</li>
</ol>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="images/staging.png" class="img-fluid quarto-figure quarto-figure-center figure-img" width="400"></p>
</figure>
</div>
<ol start="2" type="1">
<li><strong>Commit Changes</strong>: Click the Commit button. In the pop-up, you can scan through and see the changes (additions, deletions, modifications) for each file that has been staged in Step 1. Add a message explaining the changes, and click Commit. You will get a message that says 2 files have changed. Close this.</li>
</ol>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="images/commit.png" class="img-fluid quarto-figure quarto-figure-center figure-img" width="800"></p>
</figure>
</div>
<ol start="3" type="1">
<li><strong>Push</strong>: You now have nothing to commit, as all changes have been tracked. You will see an information message saying “Your branch is ahead of”origin/main” by 1 commit. Time to Push! Click the Push button. If successful, the following message will appear:</li>
</ol>
<pre><code>&gt;&gt;&gt; /usr/bin/git push origin HEAD:refs/heads/main
To https://github.com/&lt;yourGitHubusername/STAT545_Example_Project.git
   37b4ec8..7b32df4  HEAD -&gt; main</code></pre>
<p>Close this pop-up, and the “GitHub interface.”Review Changes” pop-up.</p>
<p>Now, when you go to your GitHub account, you should see some changes to your STAT545_Example_Project repository! You can see when the changes were pushed, and now a README appears below the files!</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="images/repowithchanges.png" class="img-fluid quarto-figure quarto-figure-center figure-img" width="600"></p>
</figure>
</div>
<p>We can also Pull from the repository using the “Pull” button on the Git pane. This allows us to sync changes that are in our GitHub repository but not on out local machine (yet!). Simply use the “Pull” button in the Git pane on RStudio.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="images/GitHubFullFlow.png" class="img-fluid quarto-figure quarto-figure-center figure-img" width="800"></p>
</figure>
</div>
</section>
<section id="from-rstudios-terminal" class="level3">
<h3 class="anchored" data-anchor-id="from-rstudios-terminal">From RStudio’s Terminal</h3>
<p>Instead of using the Git pane, we can write out commands for Git in the Terminal.</p>
<ol type="1">
<li><p><strong>Stage Changes</strong>: <code>git add .</code> stages <strong>all</strong> of your modified files (can also just name the files you want to commit instead of using <code>.</code>)</p></li>
<li><p><strong>Commit Changes</strong>: <code>git commit -m "some message"</code> commits your changes, along with a message summarizing the changes</p></li>
<li><p><strong>Push Changes</strong>: <code>git push origin main</code> pushes your changes to the GitHub repo (main branch, which is typically the default)</p></li>
</ol>
<p>Other useful Terminal commands include:</p>
<ul>
<li><code>git status</code>: see which of your changes have been tracked, staged, and committed</li>
<li><code>git checkout</code>: see what branch you’re on, or change branches</li>
<li><code>git pull</code>: pull changes from the remote repository (GitHub) to your local computer</li>
</ul>
</section>
</section>
<section id="more-on-git" class="level2">
<h2 class="anchored" data-anchor-id="more-on-git">More on Git</h2>
<section id="branches" class="level3">
<h3 class="anchored" data-anchor-id="branches">Branches</h3>
<p>Branches allow for parallel development within a repository. Branches are also a safe way to test out new features, fix bugs, or experiment with new ideas.</p>
<p>When creating a repository, a default branch is created. This is typically named “main” (or in older repositories, “master”). The default branch is the branch that GitHub displays when anyone visits your repository. The default branch is also the initial branch that Git checks out locally when someone clones the repository. Unless you specify a different branch, the default branch in a repository is the base branch for new pull requests and code commits.</p>
<p>To create a new branch, you can either navigate to the Git pane and click the icon with two purple rectangles connected to a white diamond. Here, you can create a new branch and name it. Then, you can switch between branches using the drop down menu beside it (see below).</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="images/createbranch.png" class="img-fluid quarto-figure quarto-figure-center figure-img" width="800"></p>
</figure>
</div>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="images/switchbranch.png" class="img-fluid quarto-figure quarto-figure-center figure-img" width="800"></p>
</figure>
</div>
<p>You can make changes on your new branch, and push them to GitHub.</p>
<ul>
<li>NOTE: if using Terminal, you can create a new branch using <code>git checkout -b &lt;new-branch-name&gt;</code> and switch branches using <code>git checkout &lt;new-branch-name&gt;</code>. You can push changes to the new branch using <code>git push origin &lt;new-branch-name&gt;</code>, where <code>&lt;new-branch-name&gt;</code> is the name of your branch)</li>
</ul>
<p>After pushing changes to a branch, you will see a message on GitHub.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="images/githubmessage.png" class="img-fluid quarto-figure quarto-figure-center figure-img" width="800"></p>
</figure>
</div>
<p><strong>If this message does not appear, click “main” and switch the branch to the new one you just made. You will see a message that says “this branch is one commit ahead of main”). Click that message.</strong></p>
<ul>
<li><p>Click “Compare and pull request”. Here, you can see the changes between the main and new branch.</p></li>
<li><p>If you’re satisfied with the changes, you can click “Create pull request” to begin the merge the changes from your new branch to main.</p></li>
<li><p>If no conflicts exist, click “Merge pull request”. Now, the changes will be on the main (default) branch!</p></li>
<li><p>Click “Confirm merge”.</p></li>
</ul>
</section>
<section id="merging-conflicts" class="level3">
<h3 class="anchored" data-anchor-id="merging-conflicts">Merging Conflicts</h3>
<p>Merge conflicts happen when we’ve created multiple versions of files that can’t be obviously combined into one definitive version.</p>
<p>Here is an example of something that would not cause a merge conflict:</p>
<ul>
<li><p>At 9am, my TA pulls from the STAT 545 repository, makes a local change to the course dashboard, and commits and pushes her changes.</p></li>
<li><p>At 10am, I forget to pull from the STAT 545 repository, and start working on the Day 1 notes locally.</p></li>
<li><p>When I commit and push, Git is a bit confused, because I wasn’t working off of the “freshest” version of the STAT 545 repository - but since my TA and I were working on different lines of code, it will fairly seamlessly figure out that the right thing to do is to add my changes to the Day 1 notes to the current version of the STAT 545 repository online.</p></li>
</ul>
<p>Here is an example of something that WOULD cause a merge conflict:</p>
<ul>
<li><p>At 9am, my TA and I both pull from the STAT 545 repository.</p></li>
<li><p>At 10am, my TA changes the front page to say “STAT 555 @ UBC”, and commits/pushes those changes.</p></li>
<li><p>At 11am, I change the front page (without pulling!!!) to say “STAT 777 @ UBC”.</p></li>
<li><p>When I commit and push, Git doesn’t know what to do. Should it make the version that says “STAT 555 @ UBC” or “STAT 777 @ UBC” the definitive version? The push will fail, and Git will tell us we need to fix the conflict and then commit the result.</p></li>
</ul>
<p>How do we fix this?</p>
<ol type="1">
<li><p>Pull.</p></li>
<li><p>Open the file that caused the merge conflict. You should see something like this:</p></li>
</ol>
<pre><code>&lt;&lt;&lt;&lt;&lt;&lt;&lt; HEAD
STAT 555 @ UBC
=======
STAT 777 @ UBC
&gt;&gt;&gt;&gt;&gt;&gt;&gt; 526363991d21ed20e7e0c57b5e99d944ac5ce5aa</code></pre>
<ol start="3" type="1">
<li><p>The stuff below the <code>&lt;&lt;&lt;&lt;&lt;&lt;&lt;</code> and above the <code>=======</code> is what was in your local version; the stuff above the <code>&gt;&gt;&gt;&gt;&gt;&gt;&gt;</code> and below the <code>=======</code> is what was in the remote conflicting version. Decide what you want to have on the offending line (e.g.&nbsp;“STAT 555 @ UBC”), and replace the whole block of text above with that.</p></li>
<li><p>Save and commit the file. (An informative message here might be “Fixing a merge conflict.”) You should now be able to successfully push!</p></li>
</ol>
<div class="callout callout-style-simple callout-warning no-icon callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Exercise
</div>
</div>
<div class="callout-body-container callout-body">
<p>Find a partner. In this exercise, we will learn how to have different team members save their work separately on <em>branches</em>, and how to <em>merge</em> those changes to the <em>main</em> project branch.</p>
<ol type="1">
<li><p>Teammate A adds Teammate B to their “stat545-demo” repository as a collaborator. (Go to Settings from the main repo page, then Access &gt; Collaborators). This should send Teammate B an email with a collaboration invitation; accept that invitation.</p></li>
<li><p>Teammate B clones Teammate A’s “stat545-demo” repository.</p></li>
<li><p>On their own computer, Teammate B will make a new branch in Teammate A’s <code>stat545-demo</code> repository. You can do this either on Github by clicking on “1 branch” on the repo homepage then the green “New branch” button, or on your own computer in R Studio with the “New Branch” button.</p></li>
<li><p>On their own computer, Teammate B will create a new file in the newly created branch, then commit and push it.</p></li>
<li><p>Teammate B will start a pull request (basically a request to merge content onto the main branch) on GitHub, by going to “Pull Requests” -&gt; “New Pull Request”, and selecting the branch you intend to merge to the main branch. In this pull request, include a comment and title indicating (at a high level) what the change made is about.</p></li>
<li><p>Teammate A will follow the instructions <a href="https://docs.github.com/en/pull-requests/collaborating-with-pull-requests/incorporating-changes-from-a-pull-request/merging-a-pull-request">here</a> to merge the pull request.</p></li>
</ol>
</div>
</div>
</section>
<section id="other-tips" class="level3">
<h3 class="anchored" data-anchor-id="other-tips">Other Tips</h3>
<ul>
<li><p>Commit changes OFTEN! Commit them as often as you would save your work!</p></li>
<li><p>Be careful when working with data containing personal identifying information (PII). This should NOT be stored on GitHub.</p></li>
<li><p>All of your projects in this class will live in the <a href="https://github.com/stat545ubc-2025">STAT 545 @ UBC Organization</a>.</p></li>
<li><p>When you watch a Github repo, you get notifications when things happen in them. So if you “Watch” the STAT 545 webpage repo, then you will get email notifications when I update the site!</p></li>
</ul>
</section>
</section>
<section id="resources" class="level2">
<h2 class="anchored" data-anchor-id="resources">Resources</h2>
<p>Today’s class is a digest of the following resources:</p>
<ul>
<li><p>Grace’s Video Lecture: <a href="https://youtu.be/TigD_OxpGao" class="uri">https://youtu.be/TigD_OxpGao</a></p></li>
<li><p>Online tutorials:</p>
<ul>
<li><p>The basic version control workflow (without branching): <a href="https://happygitwithr.com/git-basics.html">Happy git w R: Chapter 20</a>.</p></li>
<li><p>Starting with GitHub: <a href="https://happygitwithr.com/new-github-first.html">Chapter 15: New project, GitHub first</a></p></li>
<li><p>Starting with files on your computer, and didn’t set up git: <a href="https://happygitwithr.com/existing-github-first.html">Chapter 16: Existing project, GitHub first</a></p></li>
<li><p>Starting with files on your computer, and <em>did</em> set up git: <a href="https://happygitwithr.com/existing-github-last.html">Chapter 17: Existing project, GitHub Last</a></p></li>
</ul></li>
</ul>
<p>Some additional resources that you might find useful:</p>
<ul>
<li>Read the <a href="https://guides.github.com/introduction/flow/">Understanding the GitHub flow</a> to get a sense of branching.</li>
</ul>


</section>

<a onclick="window.scrollTo(0, 0); return false;" role="button" id="quarto-back-to-top"><i class="bi bi-arrow-up"></i> Back to top</a></main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->
<footer class="footer">
  <div class="nav-footer">
    <div class="nav-footer-left">
      &nbsp;
    </div>   
    <div class="nav-footer-center">
<p>Copyright 2025, Grace Tompkins</p>
</div>
    <div class="nav-footer-right">
      &nbsp;
    </div>
  </div>
</footer>




</body></html>